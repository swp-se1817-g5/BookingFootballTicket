function parseTemplate(e){return function(t){return e.replace(/{{([^{}]*)}}/g,(function(e,a){var n=t[a];return"string"==typeof n||"number"==typeof n?n:e}))}}var ftpCore={};$(document).ready((function(){ftpCore["close-modal"]=function(e){$(e).off("click").on("click",(e=>{void 0!==$(e.currentTarget).data("target")?$(e.currentTarget).removeClass("active"):$(e.currentTarget).find("[data-target]").length?$(e.currentTarget).find("[data-target]").first().removeClass("active"):$(e.currentTarget).closest("[data-target]").removeClass("active")}))},ftpCore["select-menu"]=function(e){var t,a="<div class='select-selected'><span>{{selectedHTML}}</span></div>",n="<div class='{{selected}}'><span>{{content}}</span></div>",i=$(e),s=i.find("select")[0],o={selectedHTML:s.options[s.selectedIndex].innerHTML,seletedItemsHTML:""},l=i.find("[data-optionTemplate]");for(l.length&&(n=l.html().replace(/=(\"\")|(d-)/gi,"")),t=0;t<s.length;t++){var c=$.extend({content:s.options[t].innerHTML,selected:s.selectedIndex==t?" same-as-selected":""},$(s.options[t]).data());o.seletedItemsHTML+=parseTemplate(n)(c)}function d(e){var t,a,n,i=[];for(t=$(".select-items"),a=$(".select-selected"),n=0;n<a.length;n++)e==a[n]?i.push(n):a[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)i.indexOf(n)&&t[n].classList.add("select-hide")}i.append(parseTemplate(a)(o)+parseTemplate("<div class='select-items select-hide'>{{seletedItemsHTML}}</div>")(o)),i.on("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation();var t=$(e.target),n="select-selected",i=t.closest("."+n);if(i.length||(n="select-items",i=t.closest("."+n)),!t.hasClass(n))for(var s=0;!t.parent().hasClass(n);)if(t=t.parent(),++s>=5)return;if(i.hasClass("select-selected"))d(i[0]),i.next().toggleClass("select-hide"),i.toggleClass("select-arrow-active");else if(i.hasClass("select-items")){var o=i.closest("[data-mod=select-menu]").find("select"),l=t.index();if(h=$(i.prev()),l==o.prop("selectedIndex"))return void h.click();o.prop("selectedIndex",l),o.find("option[selected]").removeAttr("selected"),$(o.find("option").get(l)).prop("selected",!0),o.trigger("change"),i.find(".same-as-selected").removeClass("same-as-selected"),t.addClass("same-as-selected");var c=$(parseTemplate(a)({selectedHTML:o.find("option").get(l).innerHTML.trim()})).html();h.html(c),d(i[0])}})),$(document).on("click",d)},ftpCore["expand-view"]=function(e){var t=$(e),a="active",n=t.data("row"),i=t.data("click-selector")||n,s=(t.data("ignore")||"").split(",");s.push("button"),s.push("a"),s.push("input");var o=0;t.on("click",i,(function(e){for(var t=$(e.target),i=0;i<s.length;i++)if(t.is(s[i]))return;e.stopImmediatePropagation();var l=t.closest(n);l.toggleClass(a),l.removeAttr("style"),clearTimeout(o),o=setTimeout((function(){l.hasClass(a)&&l.css("overflow-y","visible")}),500)}))},ftpCore.sticky=function(e){var t=$(e),a=t.data("anchor"),n=$(a),i=$(t.data("scroll-bottom")),s=t.data("classname"),o=(t.data("toggleEle"),t.offset().top),l=!1;function c(e){var c=(n.position().top||1)+n.outerHeight(),d=o-c;"body"==a&&(d=1),i.length&&(d=i.offset().top+i.outerHeight()-c),l?e<d&&(s?t.toggleClass("sticky"):t.removeAttr("style"),l=!l):e>=d&&(s?t.toggleClass("sticky"):t.css({position:"fixed",top:c}),l=!l)}ftpCore["on-scroll"].push((function(e){c($(e.target).scrollTop())})),setTimeout((function(){c($(window).scrollTop())}),110)},ftpCore["alt-trigger"]=function(e){$(e).click((function(e){e.stopImmediatePropagation(),target=$(e.target).data("target"),$(target).trigger("click")}))},ftpCore["on-scroll"]=[];var e=Date.now(),t=Date.now();function a(e){for(var t=0;t<ftpCore["on-scroll"].length;t++)ftpCore["on-scroll"][t](e)}$(window).scroll((function(n){Date.now()-e>300?(a(n),e=Date.now()):(clearTimeout(t),t=setTimeout((function(){a(n)}),50))})),$("body").on("click","[data-toggle=dropdown]",(function(e){e.stopImmediatePropagation(),$(e.target).closest(".btn-group").toggleClass("open")})).on("click",(function(e){$("[data-toggle=dropdown]").each((function(e,t){$(t).parent().removeClass("open")}))}))})),$(document).ready((function(){var e=$("body"),t=$(window).resize((function(){t=$(this).width()})).width(),a=$(".header-inner");a.find(".header-main-menu .mobile-menu-btn").on("click",(function(a){if(t<=1025){var n=$(a.currentTarget),i=n.closest(".header-main-menu").find(">ul");i.stop().slideToggle().toggleClass("open"),n.find(".ftp-menu").toggleClass("ftp-close"),e.css("overflow",i.hasClass("open")?"hidden":"auto")}})),$(".has-child").on("click",(function(e){t<=1025&&(e.preventDefault(),$(this).closest("li").find("ul").stop().slideToggle(),$(this).toggleClass("active"))}));var n=a.find(".auth_window");a.find("a[data-auth]").on("click",(function(e){e.preventDefault(),n.addClass("active")})),n.find(".close[data-close-auth],.overlay").on("click",(function(){n.removeClass("active")}));var i=a.find(".search_window");a.find("button[data-search]").on("click",(function(e){e.preventDefault(),i.addClass("active"),setTimeout((function(){$(".modal-forminput.ui-autocomplete-input.searchboxhome").focus()}),500)})),i.find(".close[data-close-search]").on("click",(function(){i.removeClass("active")}));var s=a.find(".quick_list_window");a.find("a[data-quick-list]").on("click",(function(e){e.preventDefault(),e.stopImmediatePropagation(),1!==$(this).data("disabled")&&(s.addClass("active"),s.trigger("getAccount"))})),s.find(">.overlay").on("click",(function(e){s.removeClass("active")}));var o=s.find(".quick-list-form"),l=s.find(".quick-list-tickets"),c=s.find(".create-account"),d=s.find(".payment-info"),r=s.find("#steps");o.find(".next_btn").on("click",(function(e){e.preventDefault(),l.removeClass("active"),r.addClass("step-2"),c.addClass("active")})),c.find(".next_btn").on("click",(function(e){e.preventDefault(),c.removeClass("active"),r.removeClass("step-2"),r.addClass("step-3"),d.addClass("active")})),d.find(".next_btn").on("click",(function(e){e.preventDefault(),s.removeClass("active"),d.removeClass("active"),r.removeClass("step-3"),l.addClass("active")}));var f=$("footer"),v=f.find(".locale-menu"),m=!1;f.find(".locale-selection").on("click",(function(){m||(m=!0,v.removeClass("active"),$(this).hasClass("active")?($(this).removeClass("active"),v.stop().slideUp(750,(function(){m=!1,v.removeClass("active")}))):($(this).addClass("active"),v.slideDown(750),$("html, body").animate({scrollTop:v.offset().top-$(".container").offset().top+500},{duration:755,complete:function(){m=!1,v.addClass("active")}})))}));var u,p=f.find(".locale-selection");v.find(".item").on("click",(function(e){var t="/locales/set-locale/"+$(e.currentTarget).data("val");$.post(t).always((function(){v.removeClass("active"),p.removeClass("active"),v.stop().slideUp(750,(function(){m=!1})),location.reload()}))})),v.find(".close-locale").on("click",(function(){m||(m=!0,v.removeClass("active"),p.removeClass("active"),v.stop().slideUp(750,(function(){m=!1})))})),$("button.favourite-toggle").on("click",(function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")})),$(".ftp-alerts .alert .inner .dismiss").on("click",(function(){$(this).closest(".alert").slideUp("slow",(function(){$(this).remove()}))}));var h=!1,g=$(".section > .inner .information-tabs"),C=g.find(".tab-nav"),k=g.find(".tab-content");if(C.find(".tab").length&&k.find(".item").length){var w=C.find(".tab.active").length,T=k.find(".item.active").length;w&&!T?(u=C.find(".tab.active").index(),k.find(".item:nth-child("+u+")").addClass("active")):!w&&T?(u=k.find(".item.active").index(),C.find(".tab:nth-child("+u+")").addClass("active")):w||T||(u=1,C.find(".tab:nth-child("+u+")").addClass("active"),k.find(".item:nth-child("+u+")").addClass("active")),C.find(".tab").on("click",(function(){$(this).hasClass("active")||h||(h=!0,u=$(this).index()+1,C.find(".tab.active").removeClass("active"),$(this).addClass("active"),k.find(".item.active").stop().fadeOut(600,(function(){$(this).removeClass("active"),k.find(".item:nth-child("+u+")").stop().fadeIn(500,(function(){$(this).addClass("active"),h=!1}))})))}))}else g.closest(".section").hide();var b=$(".column-section .inner .content-column.resizer");b.length&&(b.find(".text .inner-content").height()>b.height()-30&&b.find("> .size-toggle").show(),$(window).resize((function(){b.find(".text .inner-content").height()>b.height()-30&&b.find("> .size-toggle").fadeIn()})),b.find("> .size-toggle").on("click",(function(){var e=$(this);e.closest(".resizer").find(".text").toggleClass("active"),e.toggleClass("active")})));var x={min:150,moreText:"Read more",lessText:"Read less"},y=$(".resize-container");y.length&&y.on("click",".size-toggle",(function(){(x={min:150,moreText:"Read more",lessText:"Read less",duration:500}).$elem=$(this).closest(".resize-container"),x.max=x.$elem.find(".boundary .text-content").height(),x.$elem.data("min")&&(x.min=x.$elem.data("min")),x.$elem.data("less")&&(x.lessText=x.$elem.data("less")),x.$elem.data("more")&&(x.moreText=x.$elem.data("more")),x.$elem.data("duration")&&(x.duration=parseInt(x.$elem.data("duration"))),$(this).toggleClass("active").hasClass("active")?x.$elem.find(".boundary").addClass("active").animate({"max-height":x.max+"px"},{duration:x.duration}):x.$elem.find(".boundary").removeClass("active").animate({"max-height":x.min+"px"},x.duration)})),$(".toggle").click((function(e){e.preventDefault();var t=$(this),a=t.next();a.hasClass("show")?(t.removeClass("active"),a.removeClass("show").slideUp(350)):(t.addClass("active"),t.parent().parent().find("li .inner").removeClass("show").slideUp(350),a.toggleClass("show").slideToggle(350))})),$(".faq-block .item .question").on("click",(function(){$(this).toggleClass("active"),$(this).hasClass("active")?$(this).closest(".item").find(".answer").stop().slideDown():$(this).closest(".item").find(".answer").stop().slideUp()}));var D=$(".step[data-step]");if(D.length){var I=0,H=0,L=$(".checkout .checkout-steps form.sign-in");D.find('button[name="next-step"]').on("click",(function(e){H=parseInt($(this).closest(".step").data("step"))-1,1==(I=H+1)&&L.slideUp(400),$currentStep=$(D[H]),$nextStep=$(D[I]),$currentStep.find(".form").slideUp(400,(function(){$currentStep.removeClass("active").addClass("done"),$nextStep.find(".form").slideDown("fast",(function(){$nextStep.addClass("active")}))}))})),$(".input-holder.hotel").hide(),$("#deliveryOption").change((function(){$(".input-holder.hotel").hide(),$(".input-holder."+$(this).val()).show()}));var U=$(D[0]),z=$(D[1]),M=$(D[2]);z.find("button[name=back-step]").on("click",(function(){z.find(".form").slideUp(400,(function(){z.removeClass("done active")})),L.slideDown(400),U.find(".form").slideDown("fast",(function(){U.removeClass("done active")}))})),z.add(M.find("button[name=back-step]")).on("click",(function(){M.hasClass("active")&&($(this).addClass("active").removeClass("done"),z.find(".form").slideDown(400),M.find(".form").slideUp(400,(function(){M.removeClass("active done")})))}));var _=$(".promo-modal"),q=$(".add-payment-modal");$(".checkout-header .actions a.add-promo-code").on("click",(function(e){e.preventDefault(),_.addClass("active")})),_.find(".overlay").on("click",(function(){_.removeClass("active")})),$('button[name="checkout"]').on("click",(function(e){q.addClass("active")})),q.find(".overlay").add(q.find("button.close")).on("click",(function(){q.removeClass("active")})),$(".item.add-payment").on("click",(function(){q.addClass("active")}))}for(var P=0,S=$("[data-mod]");P<S.length;P++){var A=$(S[P]).data("mod");ftpCore[A]&&ftpCore[A](S[P])}}));